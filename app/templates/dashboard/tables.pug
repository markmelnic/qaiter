extends dashboard/layout.pug

block content
    div
        h2 Add a table
        form(method="POST" action="{{ url_for('add_table') }}")
            {{ table_form.number(placeholder="Table Number (ID)") }}
            {{ table_form.seats(placeholder="Number of seats (optional)") }}
            {{ table_form.description(placeholder="Description (optional)") }}
            {{ table_form.add(class="button") }}

    div
        h2 Active Tables
        table
            tr
                //th URL
                th Table Number
                th Seats
                th Description
                th QR Code

            each table in tables
                tr(value="{{table.id}}" class="table separator top")
                    //td
                    //    a(href="{{ table.url }}") URL
                    td {{ table.number }}
                    td {{ table.seats }}
                    td {{ table.description }}
                    td
                        a(href="qrview/{{ table.number }}" target="_blank")
                            img(class="qr" src="{{ table.imgurl }}")

        div(class="group separator top")
            img(class="table action edit" act="ajx" href="qredit/" src="{{ url_for( 'static', filename='img/icons/edit.png' ) }}")
            img(class="table action toggle" act="ajx" href="qrtoggle/" src="{{ url_for( 'static', filename='img/icons/toggle.png' ) }}")
            img(class="table action download" href="qrdownload/" src="{{ url_for( 'static', filename='img/icons/download.png' ) }}")
            img(class="table action remove negative" act="ajx" href="table_remove/" src="{{ url_for( 'static', filename='img/icons/trash.png' ) }}")

    script(src="{{ url_for( 'static', filename='js/tables.js' ) }}")

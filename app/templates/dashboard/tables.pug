extends dashboard/layout.pug

block content
    div
        h2 Add a table
        form(method="POST" action="{{ url_for('add_table') }}")
            {{ table_form.number(placeholder="Table Number (ID)") }}
            {{ table_form.seats(placeholder="Number of seats (optional)") }}
            {{ table_form.description(placeholder="Description (optional)") }}
            {{ table_form.add(class="button") }}

    div
        h2 Active Tables
        table
            tr
                //th URL
                th Table Number
                th Seats
                th Description
                th QR Code

            each table in tables
                tr(value="{{table.id}}" class="table separator top")
                    //td
                    //    a(href="{{ table.url }}") URL
                    td {{ table.number }}
                    td {{ table.seats }}
                    td {{ table.description }}
                    td
                        a(href="qrview/{{ table.number }}" target="_blank")
                            img(class="qr" src="{{ table.imgurl }}")

        div(class="group separator top")
            a(class="action" href="qredit/")
                img(src="{{ url_for( 'static', filename='img/icons/edit.png' ) }}")

            a(class="action" href="qrtoggle/")
                img(src="{{ url_for( 'static', filename='img/icons/toggle.png' ) }}")

            a(class="action" href="qrdownload/")
                img(src="{{ url_for( 'static', filename='img/icons/download.png' ) }}")

            a(class="action negative" href="table_remove/")
                img(src="{{ url_for( 'static', filename='img/icons/trash.png' ) }}")

    script(src="{{ url_for( 'static', filename='js/tables.js' ) }}")
